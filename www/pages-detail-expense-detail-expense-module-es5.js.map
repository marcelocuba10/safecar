{"version":3,"sources":["webpack:///src/app/pages/detail-expense/detail-expense.page.html","webpack:///src/app/pages/detail-expense/detail-expense-routing.module.ts","webpack:///src/app/pages/detail-expense/detail-expense.module.ts","webpack:///src/app/pages/detail-expense/detail-expense.page.scss","webpack:///src/app/pages/detail-expense/detail-expense.page.ts"],"names":["routes","path","component","DetailExpensePageRoutingModule","imports","forChild","exports","DetailExpensePageModule","declarations","DetailExpensePage","actRoute","apiService","navCtrl","appService","loadingCtrl","expense","id","snapshot","paramMap","get","getExpenseById","getCars","$event","dateFormat","getDate","console","log","subscribe","response","getCarById","cars","id_veiculo","car_name","nome","data","formValidation","presentLoading","updateExpense","presentToast","navigateRoot","createExpense","error","selector","template"],"mappings":"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","file":"pages-detail-expense-detail-expense-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\n  <ion-toolbar color=\\\"tertiary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/expenses\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\" *ngIf=\\\"id\\\">Detalhes Despesa</ion-title>\\n    <ion-title class=\\\"ion-text-center\\\" *ngIf=\\\"!id\\\">Adicionar Nova Despesa</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button>\\n        <ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">(*)Nome</ion-label>\\n        <ion-input type=\\\"text\\\" autofocus required [(ngModel)]=\\\"expense.nome\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">(*)Custo</ion-label>\\n        <ion-input type=\\\"text\\\" required [(ngModel)]=\\\"expense.custo\\\"></ion-input>\\n      </ion-item> \\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">(*)Data</ion-label>\\n        <ion-datetime (ionChange)=\\\"onChange($event)\\\" autofocus required [(ngModel)]=\\\"expense.data\\\" display-format=\\\"DD/MM/YYYY\\\" min=\\\"1970-01-01\\\" max=\\\"2021-12-31\\\"></ion-datetime>\\n      </ion-item>\\n      <ion-item class=\\\"select-placeholder\\\">\\n        <ion-label position=\\\"stacked\\\">(*)Veiculo</ion-label>\\n        <ion-select interface=\\\"popover\\\" required [(ngModel)]=\\\"expense.id_veiculo\\\" class=\\\"ion-text-capitalize\\\" placeholder=\\\"{{car_name}}\\\">\\n          <ion-select-option *ngFor=\\\"let car of cars\\\" [value]=\\\"car.id\\\">{{car.nome}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Observações</ion-label>\\n        <ion-textarea [(ngModel)]=\\\"expense.observacoes\\\" placeholder=\\\"...\\\"></ion-textarea>\\n      </ion-item>\\n      <ion-item-group class=\\\"ion-text-center ion-margin-top\\\">\\n        <ion-button mode=\\\"ios\\\" color=\\\"medium\\\" routerLink=\\\"/expenses\\\">\\n          <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>Voltar\\n        </ion-button>\\n        <ion-button mode=\\\"ios\\\" color=\\\"success\\\" (click)=\\\"savedata(expense)\\\">\\n          <ion-icon class=\\\"m-icon\\\" name=\\\"save-outline\\\"></ion-icon>Salvar\\n        </ion-button>\\n      </ion-item-group>\\n    </ion-card-content>\\n  </ion-card>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailExpensePage } from './detail-expense.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailExpensePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailExpensePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailExpensePageRoutingModule } from './detail-expense-routing.module';\n\nimport { DetailExpensePage } from './detail-expense.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailExpensePageRoutingModule\n  ],\n  declarations: [DetailExpensePage]\n})\nexport class DetailExpensePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RldGFpbC1leHBlbnNlL2RldGFpbC1leHBlbnNlLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { Cars } from 'src/app/models/cars';\nimport { ApiService } from 'src/app/services/api.service';\nimport { AppService } from 'src/app/services/app.service';\nimport { Expenses } from '../../models/expenses';\n\n@Component({\n  selector: 'app-detail-expense',\n  templateUrl: './detail-expense.page.html',\n  styleUrls: ['./detail-expense.page.scss'],\n})\nexport class DetailExpensePage implements OnInit {\n\n  private id: any;\n  private expense = {} as Expenses;\n  private loading: any;\n  public car_name: string;\n  private cars: any;\n  private dateFormat: string;\n\n  constructor(\n    private actRoute: ActivatedRoute,\n    public apiService: ApiService,\n    private navCtrl: NavController,\n    private appService: AppService,\n    private loadingCtrl: LoadingController,\n  ) {\n    this.id = this.actRoute.snapshot.paramMap.get(\"id\");\n  }\n\n  ngOnInit() {\n\n    if (this.id) {\n      this.getExpenseById();\n    }\n\n    this.getCars();\n\n  }\n\n  onChange($event) {\n    this.dateFormat = this.appService.getDate($event);\n    console.log(this.dateFormat);\n  }\n\n  public getExpenseById() {\n    this.apiService.getExpenseById(this.id).\n      subscribe(response => {\n        this.expense = response;\n        console.log(\"response\", this.expense);\n        this.getCarById();\n      });\n\n  }\n\n  public getCars() {\n    this.apiService.getCars().subscribe(response => {\n      this.cars = response;\n      console.log(\"response:\", this.cars);\n    })\n  }\n\n  public getCarById() {\n    this.apiService.getCarById(this.expense.id_veiculo).\n      subscribe(response => {\n        this.car_name = response.nome;\n        console.log(\"response\", this.car_name);\n      });\n  }\n\n  async savedata(data) {\n\n    if (await this.appService.formValidation(this.expense)) {\n      await this.appService.presentLoading(1);\n      this.expense.data = this.dateFormat;\n\n      if (this.id) {\n        try {\n          await this.apiService.updateExpense(this.id, this.expense).subscribe(response => {\n            console.log('response:', response);\n            this.appService.presentLoading(0);\n            this.appService.presentToast(\"Despesa atualizada com exito!\")\n            this.navCtrl.navigateRoot(\"/expenses\");\n          })\n        } catch (error) {\n          this.appService.presentToast(error);\n          this.appService.presentLoading(0);\n        }\n\n      } else {\n        try {\n          console.log(data);\n          this.apiService.createExpense(data).subscribe((response) => {\n            console.log('response:', response);\n            this.navCtrl.navigateRoot(\"/expenses\");\n          });\n\n          this.appService.presentLoading(0);\n          this.appService.presentToast(\"Despesa criada com exito!\")\n          this.navCtrl.navigateRoot(\"/expenses\");\n\n        } catch (error) {\n          this.appService.presentToast(error);\n          this.appService.presentLoading(0);\n          console.log(error);\n        }\n      }\n    }\n  }\n\n}\n"]}